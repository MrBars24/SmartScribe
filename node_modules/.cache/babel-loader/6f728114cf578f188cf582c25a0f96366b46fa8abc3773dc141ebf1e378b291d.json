{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { ref, onMounted } from 'vue';\n//import { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport Tesseract from 'tesseract.js';\nimport { nextTick } from 'vue';\nexport default {\n  name: 'DashboardView',\n  setup() {\n    //const store = useStore();\n    const router = useRouter();\n    const showCamera = ref(false);\n    const video = ref(null);\n    const ocrText = ref('');\n    const showUserMenu = ref(false);\n    const user = ref({\n      name: 'User',\n      email: 'user@example.com'\n    });\n    const recentNotes = ref([]);\n    onMounted(async () => {\n      try {\n        // Get user info\n        //const userInfo = store.getters['auth/getUser'];\n        //if (userInfo) {\n        //  user.value = userInfo;\n        //}\n\n        // Get recent notes\n        //await store.dispatch('notes/fetchNotes');\n        //recentNotes.value = store.getters['notes/getRecentNotes'];\n      } catch (error) {\n        console.error('Error loading dashboard data:', error);\n      }\n    });\n    const toggleUserMenu = () => {\n      showUserMenu.value = !showUserMenu.value;\n    };\n    const logout = async () => {\n      try {\n        //await store.dispatch('auth/logout');\n        router.push('/login');\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    const openCamera = async () => {\n      showCamera.value = true;\n      await nextTick(); // Wait for the video element to exist\n\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true\n        });\n        if (video.value) {\n          video.value.srcObject = stream;\n        } else {\n          console.error('Video element not found');\n        }\n      } catch (err) {\n        console.error('Camera access denied or error:', err);\n      }\n    };\n    const closeCamera = () => {\n      showCamera.value = false;\n      const stream = video.value.srcObject;\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n      video.value.srcObject = null;\n    };\n    const capturePhoto = () => {\n      const canvas = document.createElement('canvas');\n      canvas.width = video.value.videoWidth;\n      canvas.height = video.value.videoHeight;\n      canvas.getContext('2d').drawImage(video.value, 0, 0);\n      canvas.toBlob(async blob => {\n        try {\n          const {\n            data: {\n              text\n            }\n          } = await Tesseract.recognize(blob, 'eng', {\n            logger: m => console.log(m)\n          });\n          ocrText.value = text;\n          closeCamera();\n          // Optionally navigat or store the text\n          // router.push({ name: 'NoteEditorView', query: {rawText: encodedURIComponent(text) } });\n        } catch (error) {\n          console.error('OCR error:', error);\n        }\n      }, 'image/jpeg');\n    };\n    const handleFileUpload = async event => {\n      const file = event.target.files[0];\n      if (!file) {\n        console.warn('No file selected');\n        return;\n      }\n      console.log('Uploading', file.name);\n      try {\n        const {\n          data: {\n            text\n          }\n        } = await Tesseract.recognize(file, 'eng', {\n          logger: m => console.log(m)\n        });\n        ocrText.value = text;\n        console.log('OCR Result:', text);\n      } catch (error) {\n        console.error('Error processing image:', error);\n      }\n    };\n    return {\n      showUserMenu,\n      user,\n      recentNotes,\n      toggleUserMenu,\n      logout,\n      openCamera,\n      handleFileUpload,\n      showCamera,\n      video,\n      closeCamera,\n      capturePhoto,\n      ocrText\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","Tesseract","nextTick","name","setup","router","showCamera","video","ocrText","showUserMenu","user","email","recentNotes","error","console","toggleUserMenu","value","logout","push","openCamera","stream","navigator","mediaDevices","getUserMedia","srcObject","err","closeCamera","getTracks","forEach","track","stop","capturePhoto","canvas","document","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","toBlob","blob","data","text","recognize","logger","m","log","handleFileUpload","event","file","target","files","warn"],"sources":["C:\\laragon\\www\\smartscribe-newnew\\src\\views\\DashboardView.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen flex flex-col bg-gray-900 text-white\">\n    <!-- Header -->\n    <header class=\"p-4 bg-gray-800 flex justify-between items-center\">\n      <div class=\"text-xl font-bold\">SmartScribe</div>\n      <div class=\"flex items-center space-x-4\">\n        <button class=\"text-gray-400 hover:text-white\">\n          <font-awesome-icon :icon=\"['fas', 'bell']\" />\n        </button>\n        <div class=\"relative\">\n          <button @click=\"toggleUserMenu\" class=\"flex items-center space-x-2\">\n            <div class=\"w-8 h-8 bg-gray-600 rounded-full\"></div>\n            <span>{{ user.name }}</span>\n            <font-awesome-icon :icon=\"['fas', 'chevron-down']\" class=\"text-xs\" />\n          </button>\n          <div v-if=\"showUserMenu\" class=\"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10\">\n            <a href=\"#\" class=\"block px-4 py-2 hover:bg-gray-700\">Profile</a>\n            <a href=\"#\" class=\"block px-4 py-2 hover:bg-gray-700\">Settings</a>\n            <a href=\"#\" class=\"block px-4 py-2 hover:bg-gray-700\" @click=\"logout\">Logout</a>\n          </div>\n        </div>\n      </div>\n    </header>\n\n    <!-- Main Content -->\n    <div class=\"flex flex-grow\">\n      <!-- Sidebar -->\n      <aside class=\"w-64 bg-gray-800 p-4\">\n        <nav>\n          <ul class=\"space-y-2\">\n            <li>\n              <router-link to=\"/dashboard\" class=\"flex items-center space-x-2 p-2 rounded-md bg-gray-700\">\n                <font-awesome-icon :icon=\"['fas', 'home']\" />\n                <span>Dashboard</span>\n              </router-link>\n            </li>\n            <li>\n              <router-link to=\"/notes\" class=\"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700\">\n                <font-awesome-icon :icon=\"['fas', 'book']\" />\n                <span>My Notes</span>\n              </router-link>\n            </li>\n            <li>\n              <router-link to=\"/progress\" class=\"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700\">\n                <font-awesome-icon :icon=\"['fas', 'chart-line']\" />\n                <span>Progress</span>\n              </router-link>\n            </li>\n            <li>\n              <router-link to=\"/settings\" class=\"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700\">\n                <font-awesome-icon :icon=\"['fas', 'cog']\" />\n                <span>Settings</span>\n              </router-link>\n            </li>\n          </ul>\n        </nav>\n      </aside>\n\n      <!-- Main Dashboard -->\n      <main class=\"flex-grow p-6\">\n        <h1 class=\"text-2xl font-bold mb-6\">Dashboard</h1>\n        \n        <!-- Scan New Notes Section -->\n        <div class=\"bg-gray-800 rounded-lg p-6 mb-6\">\n          <h2 class=\"text-xl font-semibold mb-4\">Scan New Notes</h2>\n          <div class=\"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center\">\n            <div class=\"mb-4\">\n              <font-awesome-icon :icon=\"['fas', 'camera']\" class=\"text-4xl text-gray-400\" />\n            </div>\n            <p class=\"mb-4 text-gray-400\">Take a picture or upload your notes</p>\n            <div class=\"flex justify-center space-x-4\">\n              <button @click=\"openCamera\" class=\"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition\">\n                <font-awesome-icon :icon=\"['fas', 'camera']\" class=\"mr-2\" /> Take Photo\n              </button>\n              <label class=\"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition cursor-pointer\">\n                <font-awesome-icon :icon=\"['fas', 'upload']\" class=\"mr-2\" /> Upload File\n                <input type=\"file\" class=\"hidden\" @change=\"handleFileUpload\" accept=\"image/*\" />\n              </label>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Recent Notes Section -->\n        <div class=\"bg-gray-800 rounded-lg p-6\">\n          <div class=\"flex justify-between items-center mb-4\">\n            <h2 class=\"text-xl font-semibold\">Recent Notes</h2>\n            <router-link to=\"/notes\" class=\"text-blue-400 hover:underline\">View All</router-link>\n          </div>\n          \n          <div v-if=\"recentNotes> 0\">\n            <div v-for=\"(note, index) in recentNotes\" :key=\"index\" class=\"bg-gray-700 rounded-lg p-4 mb-4\">\n              <div class=\"flex justify-between items-start\">\n                <div>\n                  <h3 class=\"font-medium\">{{ note.title }}</h3>\n                  <p class=\"text-sm text-gray-400\">{{ note.date }}</p>\n                </div>\n                <div class=\"flex space-x-2\">\n                  <button class=\"text-gray-400 hover:text-white\">\n                    <font-awesome-icon :icon=\"['fas', 'edit']\" />\n                  </button>\n                  <button class=\"text-gray-400 hover:text-white\">\n                    <font-awesome-icon :icon=\"['fas', 'trash']\" />\n                  </button>\n                </div>\n              </div>\n              <p class=\"mt-2 text-sm text-gray-300 line-clamp-2\">{{ note.summary }}</p>\n              <div class=\"mt-3 flex space-x-2\">\n                <span v-for=\"(tag, tagIndex) in note.tags\" :key=\"tagIndex\" class=\"px-2 py-1 bg-gray-600 rounded-full text-xs\">\n                  {{ tag }}\n                </span>\n              </div>\n            </div>\n          </div>\n          \n          <div v-else class=\"text-center py-8 text-gray-400\">\n            <p>No notes yet. Start by scanning your first note!</p>\n          </div>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\n//import { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport Tesseract from 'tesseract.js';\nimport { nextTick } from 'vue';\n\nexport default {\n  name: 'DashboardView',\n  setup() {\n    //const store = useStore();\n    const router = useRouter();\n    const showCamera = ref(false);\n    const video = ref(null);\n    const ocrText = ref('');\n    \n    const showUserMenu = ref(false);\n    const user = ref({\n      name: 'User',\n      email: 'user@example.com'\n    });\n    const recentNotes = ref([]);\n\n    onMounted(async () => {\n      try {\n        // Get user info\n        //const userInfo = store.getters['auth/getUser'];\n        //if (userInfo) {\n        //  user.value = userInfo;\n        //}\n        \n        // Get recent notes\n        //await store.dispatch('notes/fetchNotes');\n        //recentNotes.value = store.getters['notes/getRecentNotes'];\n      } catch (error) {\n        console.error('Error loading dashboard data:', error);\n      }\n    });\n\n    const toggleUserMenu = () => {\n      showUserMenu.value = !showUserMenu.value;\n    };\n\n    const logout = async () => {\n      try {\n        //await store.dispatch('auth/logout');\n        router.push('/login');\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n\n    const openCamera = async () => {\n  showCamera.value = true;\n\n  await nextTick(); // Wait for the video element to exist\n\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n    if (video.value) {\n      video.value.srcObject = stream;\n    } else {\n      console.error('Video element not found');\n    }\n  } catch (err) {\n    console.error('Camera access denied or error:', err);\n  }\n};\n\n    const closeCamera = () => {\n      showCamera.value = false;\n      const stream = video.value.srcObject;\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n      video.value.srcObject = null;\n    };\n\n    const capturePhoto = () => {\n      const canvas = document.createElement('canvas');\n      canvas.width = video.value.videoWidth;\n      canvas.height = video.value.videoHeight;\n      canvas.getContext('2d').drawImage(video.value, 0, 0);\n\n      canvas.toBlob(async (blob) => {\n        try {\n          const { data: { text } } = await Tesseract.recognize(blob, 'eng', {\n            logger: m => console.log(m)\n          });\n          ocrText.value = text;\n          closeCamera();\n          // Optionally navigat or store the text\n          // router.push({ name: 'NoteEditorView', query: {rawText: encodedURIComponent(text) } });\n        }catch (error) {\n          console.error('OCR error:', error);\n        }\n      }, 'image/jpeg');\n    };\n\n    const handleFileUpload = async (event) => {\n  const file = event.target.files[0];\n  if (!file) {\n    console.warn('No file selected');\n    return;\n  } \n\n  console.log('Uploading', file.name);\n\n  try {\n    const { data: { text } } = await Tesseract.recognize(file, 'eng', {\n      logger: m => console.log(m)\n    });\n\n    ocrText.value = text;\n    console.log('OCR Result:', text);\n  } catch (error) {\n    console.error('Error processing image:', error);\n  }\n};\n\n\n    return {\n      showUserMenu,\n      user,\n      recentNotes,\n      toggleUserMenu,\n      logout,\n      openCamera,\n      handleFileUpload,\n      showCamera,\n      video,\n      closeCamera,\n      capturePhoto,\n      ocrText\n    };\n  }\n}\n</script>\n\n<style>\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}